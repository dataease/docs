# 更新日志

## 1 版本说明

!!! Abstract ""
    **版本号说明：** 像其它优秀开源项目一样，DataEase 将保持每月发布一个新的功能版本，功能版本中如遇较为紧急或严重的 Bug，将及时推出
    Bug 修复的小版本。  
    **DataEase 版本号命名规则为：** v 大版本.功能版本. Bug 修复版本，示例如下：

    - v2.0.1 是 v2.0.0 之后的 Bug 修复版本
    - v2.1.0 是 v2.0.0 之后的功能版本

## 2 更新内容
### v2.2.0
2024年1月4日

!!! Abstract "新增功能 :star2:"

    - feat(数据集): 创建数据集的下拉框⽀持搜索
    - feat(仪表板): 查询组件⽀持下拉选项设置为必填项
    - feat(数据⼤屏): ⽀持分组内组件移动定位操作
    - feat(数据⼤屏): ⽀持双击分组内组件直接编辑组件属性
    - feat(数据⼤屏): 组合到⼀个分组后，在图层管理中，可以查看该分组下的组件列表
    - feat(数据⼤屏): 分组放⼤缩⼩其内部组件同⽐放⼤缩⼩
    - feat(数据⼤屏): 画布放⼤缩⼩其图表⽀持同⽐放⼤缩⼩
    - feat(X-Pack): 列权限⽩名单⽤户设置增加搜索功能
    - feat: 新增 API 接⼝⽂档
    - feat: 新增嵌⼊式应⽤⽇志
    - feat: 模板管理⽀持批量操作
    - feat: 前端静态资源增加访问前缀

!!! Abstract "功能优化 :sunflower:"

    - refactor(数据集): 计算字段提示⽂案修改 #7260
    - refactor(数据集): 修改新建计算字段提示 #7168
    - refactor(数据源): 创建完上⼀个数据源后的继续创建操作的默认⽂件夹仍然保持为同⼀个
    - refactor(仪表板): 查询组件配置去除缓存
    - refactor(数据⼤屏): 优化复制操作
    - refactor(数据⼤屏): 图层样式优化
    - refactor(数据⼤屏): ⼤屏分组样式调整
    - refactor(数据⼤屏): 数据⼤屏右键菜单优化
    - refactor(数据⼤屏): 批量操作时，屏蔽其他⽆关操作
    - refactor(X-Pack): ⽤户管理筛选条件优化
    - refactor: 优化模板管理
    - refactor: 模板中⼼按钮⾃适应宽度
    - refactor: 优化模板中⼼默认展开分类
    - refactor: 地理信息上传地图⽂件验证
    - refactor: 优化安装脚本提示 #7247
    - refactor: 优化运⾏模式转换脚本
    - refactor: 处理地理信息树节点超出⻓度时的样式
    - refactor: 持久化⾃定义地图⽂件
    - refactor: 允许社区版修改 admin 密码

!!! Abstract "问题修复 :palm_tree:"

    - fix(⼯作台): 处理⼯作台填充⾊内的图标⼤⼩，与仪表板等模块的⼤⼩保持⼀致 
    - fix(⼯作台): 修复最近使⽤列表按照最近编辑时间排序的错误
    - fix(数据集): 修复复制数据集并替换数据表保存时出现的异常问题
    - fix(数据源): 修复 API 数据源⽆法更新数据的问题
    - fix(数据源): 修复 Excel 字段类型错误
    - fix(数据源): 修复本地 Excel ⽂件创建的数据源数据预览为空的问题
    - fix(数据源): 修复 API 数据源界⾯自动添加⾏问题 #7335
    - fix(数据源): 修复 API 数据源数据表请求参数全部填满后最后⼀条参数⽆法删除的问题 #733650 fix(图表): 修复汇总表脱敏字段显示不正确的问题
    - fix(图表): 修复表格组合后点击⻚⾯下钻的问题
    - fix(仪表板): 修复查询组件时间范围绑定参数，⽆法获取可绑定参数的问题
    - fix(仪表板): 修复在仪表板⽂件夹上应⽤模板创建仪表板，保存时没有⾃动选择⽂件夹问题
    - fix(仪表板): 修复预览时 Tab 组件也可修改标题的问题
    - fix(仪表板): 修复动态时间范围不正确的问题
    - fix(仪表板): 修复⽇期范围参数化问题
    - fix(仪表板): 查询组件去除包含列权限脱敏和禁⽤的列
    - fix(仪表板): 修复查询组件字段切换的问题
    - fix(仪表板): 修复查询组件的动态时间默认值没有随时间推移⽽⾃动更新的问题
    - fix(仪表板): 修复查询组件中时间范围设置动态默认时间，退出编辑后默认时间清空的问题
    - fix(仪表板): 修复时间戳年⽉组件过滤失效的问题 #7313
    - fix(数据⼤屏): 修复设置⼤屏百分⽐时容易触发删除热键的问题 #7131
    - fix(数据⼤屏): 修复 MAC 端，在⼤屏编辑界⾯按 shift 键后，⽆法使⽤ command 键选择图层进⾏组合的问题
    - fix(数据⼤屏): 修复⼤屏预览分组位置定位不准确的问题
    - fix(系统设置): 基础设置中数据源检测时间间隔限制数值边界
    - fix(系统设置): 修复查看世界村地图数据，加载时间过⻓，可能导致浏览器崩溃的问题
    - fix(X-Pack): 修复删除⽤户后其名下资源⽆法查看的问题
    - fix(X-Pack): 修复在⼩屏幕下横向滚动⽤户列表，列表内容会与操作按钮重叠的问题
    - fix(X-Pack): 开源版可以看到⾏列权限菜单，但切换后显示空⽩⻚⾯
    - fix(X-Pack): 修复权限设置存在的未保存变更切换权限维度的逻辑
    - fix(X-Pack): 修复⽤户批量导⼊使⽤的不是默认密码的问题
    - fix(X-Pack): 修复⽤户批量导⼊的国际化错误问题
    - fix(X-Pack): 脱敏字段删除改为标记
    - fix: 修复升级脚本⽆法在线升级的问题
    - fix: 修改安装脚本⽂案
    - fix: 处理关于⻚⾯备注为空时的显示效果
    - fix: 修复模板管理重命名失效的问题
### v2.1.0
2023年12月7日

!!! Abstract "新增功能 :star2:"

    - feat(图表): AntV 散点图类别支持重命名
    - feat(数据集): 支持数据集的复制
    - feat(数据源): 支持数据源的复制
    - feat(系统设置): 新增系统参数-基础设置
    - feat(系统设置): 新增系统参数-地图设置
    - feat(X-Pack): 新增平台对接-飞书设置
    - feat(X-Pack): 新增嵌入式管理
    - feat: 新增模板中心
    - feat: 新增模板管理
    - feat: 新增 API Key 配置页

!!! Abstract "功能优化 :sunflower:"

    - refactor(工作台): 优化最近使用的查询逻辑
    - refactor(图表): 优化组合图默认图表类型，第一个指标为柱状图，第二个指标为折线图
    - refactor(图表): 富文本、表格等模板适配优化
    - refactor(仪表板): 仪表板、数据大屏中的图表联动字段使用图表制作中参与的字段
    - refactor(仪表板): 社区版仪表板无需展示创建者
    - refactor(数据大屏): 大屏编辑预览状态禁用鼠标比例伸缩功能
    - refactor: 优化预览页按钮样式
    - refactor: 优化 dectl 命令状态检查方法
    - refactor: apisix 支持 Origin 请求头穿透
    - refactor: askToken 认证机制
    - refactor: 菜单缓存机制禁止持久化

!!! Abstract "问题修复 :palm_tree:"

    - fix(工作台): 修复工作台间距
    - fix(图表): 修复地图导出图片和 PDF 出现区域空白的问题
    - fix(图表): 修复富文本图表不识别记录数字段的问题
    - fix(查询组件): 修复查询组件参数化未获取最新数据的问题
    - fix(查询组件): 修复外部参数数字区间查询组件数值匹配不正确的问题
    - fix(查询组件): 查询组件配置去除缓存
    - fix(查询组件): 修复查询条件设置默认值为固定时间，保存后默认值被置空的问题
    - fix(媒体组件): 修复反复切换图片组件样式中缩略图没有变化的问题
    - fix(仪表板): 修复编辑仪表板时，新添加图表后，设置图表导致联动、跳转，导致原有图表的联动、跳转标识丢失的问题
    - fix(仪表板): 修复画布区域删除 Tab 组件 Tab 页后，激活的 Tab 页无法立即渲染的问题
    - fix(仪表板): 修复空值联动异常的问题
    - fix(数据大屏): 修复大屏伸缩比例直接输入数字未生效的问题
    - fix(数据大屏): 修复使用快捷键反复切换桌面应用导致的数据大屏组件移动失效的问题
    - fix(公共链接): 修复公共链接文案错误的问题
    - fix(数据集): 修复数据集重命名字段名过长的情况下，右侧功能菜单消失，无法进行其他操作的问题
    - fix(数据集): 修复自定义 SQL 编辑页无法调节左侧侧边栏宽度的问题 #6535
    - fix(数据源): 修复一些数据库不支持的类型
    - fix(数据源): 修复初始化数据引擎失败的问题
    - fix(X-Pack): 修复嵌入式的场景下部分静态资源无法加载的问题
    - fix(X-Pack): 嵌入式下隐藏跳转
    - fix(X-Pack): 修复列权限自定义脱敏格式显示不正确的问题
    - fix(X-Pack): 修复删除用户后其名下资源无法查看的问题
    - fix(X-Pack): 修复某些情况下无法切换组织的问题
    - fix(X-Pack): 修复用户批量导入失败的问题
    - fix: 修复社区版浏览器控制台报错没有许可的问题
    - fix: 修复资源列表树，子目录展开后没有收起，导致上层目录点击收起无响应的问题
    - fix: 修复 docker-compose 文件版本
    - fix: 修改帮助文档链接
    - fix: 修改密码验证规则

### v2.0.0
2023年11月2日

<table>
	<tr>
		<td bgcolor="#3779d9" align="middle" style="font-weight:bold;color: white;width: 150px">
			功能模块
		</td>
		<td bgcolor="#3779d9" align="middle" style="font-weight:bold;color: white;width: 170px">
			功能
		</td>
		<td bgcolor="#3779d9" align="middle" style="font-weight:bold;color: white;width: 750px">
			功能描述
		</td>
	</tr>
	<tr>
		<td rowspan="5">
			工作台
		</td>
		<td rowspan="5">
			工作台
		</td>
		<td>
			支持统计并展示用户信息及个人权限内的资源信息
		</td>
	</tr>
	<tr>
		<td>
			支持快速创建数据源、数据集、仪表板、数据大屏
		</td>
	</tr>
	<tr>
		<td>
			支持搜索及查看最近使用的资源
		</td>
	</tr>
	<tr>
		<td>
			支持查看我的收藏
		</td>
	</tr>
	<tr>
		<td>
			支持查看我的分享
		</td>
	</tr>
			<td rowspan="29">
			仪表板
		</td>
		<td rowspan="13">
			图表组件
		</td>
		<td>
			支持通过简单的拖拉或点击操作，制作图表
		</td>
	</tr>
	<tr>
		<td>
			支持多种图表类型，仪表盘、水波图、明细表、汇总表、基础折线图、面积图、堆叠折线图、基础柱状图、堆叠柱状图、百分比柱状图、分组柱状图、分组堆叠柱状图、瀑布图、横向柱状图、横向堆叠柱状图、横向百分比柱状图、饼图、环形图、玫瑰图、玫瑰环形图、雷达图、矩形树图、词云图、地图、散点图、漏斗图、富文本视图等
		</td>
	</tr>
	<tr>
		<td>
			支持指标的多种汇总计算方式，例如求和、平均、最大值、最小值、标准差、方差、计数、去重计数等
		</td>
	</tr>
	<tr>
		<td>
			支持指标的高级计算，例如同环比与占比
		</td>
	</tr>
	<tr>
		<td>
			支持设置指标数值格式，例如小数位数、数量单位、单位后缀、千分符等
		</td>
	</tr>
	<tr>
		<td>
			支持制作图表时快速切换图表类型与关联数据集
		</td>
	</tr>
	<tr>
		<td>
			支持设置钻取、过滤、刷新频率、结果展示条数
		</td>
	</tr>
	<tr>
		<td>
			支持丰富的图表背景、基础样式、标签、提示、标题、图例等设置
		</td>
	</tr>
	<tr>
		<td>
			支持图表联动设置与跳转设置
		</td>
	</tr>
	<tr>
		<td>
			支持柱状图、折线图设置缩略轴与阈值辅助线
		</td>
	</tr>
	<tr>
		<td>
			支持仪表盘设置阈值区间
		</td>
	</tr>
	<tr>
		<td>
			支持表格设置自动滚动、阈值样式
		</td>
	</tr>
	<tr>
		<td>
			支持图表复制、放大、查看数据、导出 Excel 或图片等功能操作
		</td>
	</tr>
		<td rowspan="4">
			其他组件
		</td>
		<td>
			支持在仪表板中加入查询组件，可定义查询组件样式及标签，可为查询组件设置查询、清空、重置按钮。支持文本下拉、数字下拉、时间、时间范围等类型查询
		</td>
	</tr>
	<tr>
		<td>
			支持富文本组件，可自定义文字内容，可绑定后台动态数据
		</td>
	</tr>
	<tr>
		<td>
			支持图片等媒体组件
		</td>
	</tr>
	<tr>
		<td>
			支持 Tab 组件，支持 Tab 组件样式设置，支持 Tab 每个页签下放入多个其他组件
		</td>
	</tr>
		<td rowspan="6">
			仪表板制作
		</td>
		<td>
			支持在线编辑仪表板，支持放入各种图表与其他组件
		</td>
	</tr>
	<tr>
		<td>
			支持仪表板通过矩阵模式布局
		</td>
	</tr>
	<tr>
		<td>
			支持仪表板多种配置，包括风格、主题色、组件间隙、刷新频率、图表结果数量、仪表板背景、图表与其他组件的整体配置等
		</td>
	</tr>
	<tr>
		<td>
			支持图表与组件的复制与删除
		</td>
	</tr>
	<tr>
		<td>
			支持图表与组件的批量复制、批量设置、批量删除
		</td>
	</tr>
	<tr>
		<td>
			支持撤销及一键清空仪表板画布内容
		</td>
	</tr>
		<td rowspan="6">
			仪表板管理
		</td>
		<td>
			支持仪表板的新建、重命名、删除、复制、移动、搜索、预览等
		</td>
	</tr>
	<tr>
		<td>
			支持仪表板分组的新建、重命名、删除、移动等
		</td>
	</tr>
	<tr>
		<td>
			支持以树状形式展示仪表板分组
		</td>
	</tr>
	<tr>
		<td>
			支持导出仪表板为 PDF 或图片
		</td>
	</tr>
	<tr>
		<td>
			支持仪表板生成公共分享链接，并可设置链接有效期及访问密码
		</td>
	</tr>
	<tr>
		<td>
			支持用户收藏仪表板
		</td>
	</tr>
	</tr>
			<td rowspan="28">
			数据大屏	
		</td>
		<td rowspan="12">
			图表组件
		</td>
		<td>
			支持通过简单的拖拉或点击操作，制作图表
		</td>
	</tr>
	<tr>
		<td>
			支持多种图表类型，仪表盘、水波图、明细表、汇总表、基础折线图、面积图、堆叠折线图、基础柱状图、堆叠柱状图、百分比柱状图、分组柱状图、分组堆叠柱状图、瀑布图、横向柱状图、横向堆叠柱状图、横向百分比柱状图、饼图、环形图、玫瑰图、玫瑰环形图、雷达图、矩形树图、词云图、地图、散点图、漏斗图、富文本视图等
		</td>
	</tr>
	<tr>
		<td>
			支持指标的多种汇总计算方式，例如求和、平均、最大值、最小值、标准差、方差、计数、去重计数等
		</td>
	</tr>
	<tr>
		<td>
			支持指标的高级计算，例如同环比与占比
		</td>
	</tr>
	<tr>
		<td>
			支持设置指标数值格式，例如小数位数、数量单位、单位后缀、千分符等
		</td>
	</tr>
	<tr>
		<td>
			支持制作图表时快速切换关联数据集
		</td>
	</tr>
	<tr>
		<td>
			支持设置钻取、过滤、刷新频率、结果展示条数
		</td>
	</tr>
	<tr>
		<td>
			支持丰富的图表背景、基础样式、标签、提示、标题、图例等设置
		</td>
	</tr>
	<tr>
		<td>
			支持图表联动设置与跳转设置
		</td>
	</tr>
	<tr>
		<td>
			支持柱状图、折线图设置缩略轴与阈值辅助线
		</td>
	</tr>
	<tr>
		<td>
			支持仪表盘设置阈值区间
		</td>
	</tr>
	<tr>
		<td>
			支持表格设置自动滚动、阈值样式
		</td>
	</tr>
		<td rowspan="3">
			其他组件
		</td>
		<td>
			支持富文本组件，可自定义文字内容，可绑定后台动态数据
		</td>
	</tr>
	<tr>
		<td>
			支持图片等媒体组件
		</td>
	</tr>
	<tr>
		<td>
			支持边框、图标等素材组件
		</td>
	</tr>
		<td rowspan="7">
			大屏制作
		</td>
		<td>
			支持在线编辑大屏，支持放入各种图表与其他组件
		</td>
	</tr>
	<tr>
		<td>
			支持大屏通过精确定位模式进行布局
		</td>
	</tr>
	<tr>
		<td>
			支持大屏多种配置，包括尺寸、背景、配色、表格配色、刷新配置等
		</td>
	</tr>
	<tr>
		<td>
			支持图表与组件的复制、粘贴、剪切、删除等操作
		</td>
	</tr>
	<tr>
		<td>
			支持图层管理，包括上移、下移、置顶、置底、隐藏、锁定等操作
		</td>
	</tr>
	<tr>
		<td>
			支持编辑大屏时使用快捷键操作
		</td>
	</tr>
	<tr>
		<td>
			支持撤销操作
		</td>
	</tr>
		<td rowspan="6">
			大屏管理
		</td>
		<td>
			支持大屏的新建、重命名、删除、复制、移动、搜索、预览等
		</td>
	</tr>
	<tr>
		<td>
			支持大屏分组的新建、重命名、删除、移动等
		</td>
	</tr>
	<tr>
		<td>
			支持以树状形式展示大屏分组
		</td>
	</tr>
	<tr>
		<td>
			支持导出大屏为 PDF 或图片
		</td>
	</tr>
	<tr>
		<td>
			支持大屏生成公共分享链接，并可设置链接有效期及访问密码
		</td>
	</tr>
	<tr>
		<td>
			支持用户收藏大屏
		</td>
	</tr>
	</tr>
			<td rowspan="17">
			数据准备	
		</td>
		<td rowspan="10">
			数据集
		</td>
		<td>
			支持数据集的创建、移动、重命名、删除、预览
		</td>
	</tr>
	<tr>
		<td>
			支持数据集文件夹的创建、移动、重命名、删除
		</td>
	</tr>
	<tr>
		<td>
			支持通过拖拉拽的方式引用数据表
		</td>
	</tr>
	<tr>
		<td>
			支持自定义 SQL，支持快速复制表名与字段名、运行查看结果、设置 SQL 动态参数
		</td>
	</tr>
	<tr>
		<td>
			支持设置多表关联，包括左连接、右连接、内连接
		</td>
	</tr>
	<tr>
		<td>
			支持编辑数据集字段，包括指标与维度切换、更换字段类型、重命名、复制、删除
		</td>
	</tr>
	<tr>
		<td>
			支持批量管理数据集字段
		</td>
	</tr>
	<tr>
		<td>
			支持新建计算字段，内置常用计算函数，支持聚合计算
		</td>
	</tr>
	<tr>
		<td>
			支持二次计算，即基于计算字段创建新的计算字段
		</td>
	</tr>
	<tr>
		<td>
			支持 SQL 加密传输
		</td>
	</tr>
		<td rowspan="7">
			数据源
		</td>
		<td>
			支持多种数据源，包括多 Sheet 页的 Excel 文件，MySQL / Oracle / SQL Server / MariaDB / PostgreSQL / MongoDB-BI / Db2 / TiDB / Apache Doris / ClickHouse / StarRocks / AWS Redshift / Apache Impala / API 数据源等
		</td>
	</tr>
	<tr>
		<td>
			支持数据源的新建、编辑、重命名、移动、删除
		</td>
	</tr>
	<tr>
		<td>
			支持数据源配置的预览，数据源表的预览
		</td>
	</tr>
	<tr>
		<td>
			支持数据源文件夹的创建、移动、重命名、删除
		</td>
	</tr>
	<tr>
		<td>
			支持数据源有效性校验
		</td>
	</tr>
	<tr>
		<td>
			支持定时检测数据源的连接状态
		</td>
	</tr>
	<tr>
		<td>
			支持 Excel 数据源替换数据与追加数据
		</td>
	</tr>
			<td rowspan="15">
			系统管理 <br />（X-Pack）
		</td>
		<td rowspan="3">
			用户管理
		</td>
		<td>
			支持用户的新建、编辑、删除、修改密码、启用、禁用、搜索、批量导入等
		</td>
	</tr>
	<tr>
		<td>
			支持为用户分配一个或多个角色
		</td>
	</tr>
	<tr>
		<td>
			支持用户通过切换组织管理及使用不同组织下的资源
		</td>
	</tr>
		<td rowspan="3">
			角色管理
		</td>
		<td>
			支持角色的新建、编辑、删除、搜索等
		</td>
	</tr>
	<tr>
		<td>
			支持系统内置角色（系统管理员、组织管理员、普通用户）与自定义角色，支持自定义角色继承于系统内置角色
		</td>
	</tr>
	<tr>
		<td>
			支持为角色添加与移除用户
		</td>
	</tr>
		<td rowspan="3">
			组织管理	
		</td>
		<td>
			支持组织的新建、编辑、删除、搜索、排序、移动等
		</td>
	</tr>
	<tr>
		<td>
			支持多级组织的创建与管理
		</td>
	</tr>
	<tr>
		<td>
			支持组织间的用户与资源隔离
		</td>
	</tr>
		<td rowspan="6">
			权限管理	
		</td>
		<td>
			支持按照用户视角窗口或资源视角窗口配置权限
		</td>
	</tr>
	<tr>
		<td>
			支持菜单权限管理，包括工作台、仪表板、数据大屏、数据集、数据源模块的权限管理
		</td>
	</tr>
	<tr>
		<td>
			支持资源权限管理，包括仪表板、数据大屏、数据集、数据源模块下的资源权限管理
		</td>
	</tr>
	<tr>
		<td>
			支持数据集的行级权限控制、支持行级权限使用系统内置变量（用户 ID、用户名、组织、邮箱等）
		</td>
	</tr>
	<tr>
		<td>
			支持数据集的列级权限控制，支持设置列的禁用或脱敏，支持自定义脱敏规则
		</td>
	</tr>
	</tr>
	<tr>
		<td>
			支持行列权限的白名单设置
		</td>
	</tr>
			<td rowspan="3">
			集成与扩展 <br />（X-Pack）
		</td>
	</tr>
		<td rowspan="1">
			REST API	
		</td>
		<td>
					支持完善的 API 接口及文档
		</td>
	</tr>
	</tr>
		<td rowspan="1">
			嵌入式能力	
		</td>
		<td>
				支持通过 div 或 iframe 的方式将 DataEase 的单个视图、仪表板或数据大屏页面、仪表板或数据大屏设计器嵌入到第三方系统
		</td>
	</tr>



</table> 
