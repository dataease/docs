# 更新日志

## 1  仪表板与数据大屏

### 1.1 Tab 组件支持排序

![更新1](./newimg/1.1%20Tab%20组件支持排序.PNG){ width="900px" }

### 1.2 公共链接分享支持 Ticket 方式
!!! Abstract ""
    公共链接功能现已集成 Ticket 机制，增强了链接的安全性和灵活性。每个 Ticket 均可独立设定有效期。此外，相较于之前版本需要对外部参数进行 base64 编码处理，现在的公共链接外部参数可以直接在 Ticket 参数中简易设置。  
    打开 Ticket 设置：
![更新1](./newimg/公共链接分享支持Ticket方式.png){ width="900px" }

!!! Abstract ""
    新建一条 Ticket 并单独配置其有效期与参数，例如配置有效期为 30 天，参数为 {"name":"Tony","age":10}：
![更新1](./newimg/1.2%20公共链接分享支持%20Ticket%20方式2.PNG){ width="500px" }

!!! Abstract ""
    复制 Ticket 链接，那么，使用 Ticket 的公共链接格式为 https://example.dataease.com/link/bcg48L2W?ticket=xk59xiHJ。在此情况下，无需传递 Ticket 参数，DataEase 将从数据库自动获取 Ticket 相关参数。

![更新1](./newimg/1.2%20公共链接分享支持%20Ticket%20方式3.PNG){ width="500px" }

!!! Abstract ""
    当启用 Ticket “必选”选项时，只有在 URL 中附带 ticket 参数的情况下，公共链接才能被成功访问。

![更新1](./newimg/1.2%20公共链接分享支持%20Ticket%20方式4.PNG){ width="500px" }

### 1.3 仪表板联动设置优化
!!! Abstract ""

    - 在选择图表时，图表会被自动区分为同数据集或不同数据集；
    - 支持一键全选同数据集所有图表，方便统一配置。

![更新1](./newimg/1.3%20仪表板联动设置优化1.png){ width="900px" }

![更新1](./newimg/1.3%20仪表板联动设置优化2.png){ width="900px" }

### 1.4 支持日期型字段参与联动、跳转
![更新1](./newimg/1.4%20支持日期型字段参与联动、跳转1.png){ width="900px" }
![更新1](./newimg/1.4%20支持日期型字段参与联动、跳转2.png){ width="900px" }

### 1.5 支持维度被联动后高亮显示
!!! Abstract ""
![更新1](./newimg/1.5%20支持维度被联动后高亮显示1.png){ width="900px" }

### 1.6 支持一键全屏预览

![更新1](./newimg/1.6%20支持一键全屏预览1.png){ width="900px" }
![更新1](./newimg/1.6%20支持一键全屏预览2.png){ width="900px" }

### 1.7 支持组件背景上传 svg 类型图片
!!! Abstract ""
    支持上传 svg 动图，支持上传 svg 边框等。
![更新1](./newimg/1.7%20支持组件背景上传%20svg%20类型图片1.png){ width="900px" }
![更新1](./newimg/1.7%20支持组件背景上传%20svg%20类型图片2.png){ width="900px" }

### 1.8 支持从图表中复制字段
!!! Abstract ""
    复制的字段在后台仅存储在特定图表中，只有在该图表中才能看到，因此在数据集中不可见。复制字段适用于同一个字段需要不同计算方式的场景。
![更新1](./newimg/1.8%20支持从图表中复制字段.png){ width="900px" }

### 1.9 新增分组柱线组合图
![更新1](./newimg/1.9 新增分组柱线组合图.png){ width="900px" }

### 1.10 新增堆叠柱线组合图
![更新1](./newimg/1.10 新增堆叠柱线组合图.png){ width="900px" }

### 1.11 新增热力地图
![更新1](./newimg/1.11 新增热力地图.png){ width="900px" }

### 1.12 新增符号地图
![更新1](./newimg/1.12 新增符号地图.png){ width="900px" }

### 1.13 新增 K 线图
!!! Abstract ""
    放置指标时需要注意字段的放置顺序：开盘价->收盘价->最低价->最高价。
![更新1](./newimg/1.13 新增 K 线图.png){ width="900px" }

### 1.14 支持明细表分页器风格设置
![更新1](./newimg/1.14 支持明细表分页器风格设置.png){ width="900px" }

### 1.15 柱形图/条形图支持设置圆角
![更新1](./newimg/1.15 柱形图:条形图支持设置圆角.png){ width="900px" }

### 1.16 地图颜色支持设置渐变色及自定义渐变色
!!! Abstract ""
    目前只有基础的地图支持了渐变色。
![更新1](./newimg/1.16 地图颜色支持设置渐变色及自定义渐变色1.png){ width="900px" }

!!! Abstract ""
    在自定义渐变色时，可以通过设置起始和结束颜色，DataEase 会自动计算中间渐变色。
![更新1](./newimg/1.16 地图颜色支持设置渐变色及自定义渐变色2.png){ width="900px" }

### 1.17 地图支持自定义图例区间及图例个数
![更新1](./newimg/1.17 地图支持自定义图例区间及图例个数.png){ width="900px" }

### 1.18 数据大屏增加刻度尺指示功能
!!! Abstract ""
    在数据大屏上选择组件后，对应的轴上会高亮组件的宽高区域。
![更新1](./newimg/1.18%20数据大屏增加刻度尺指示功能.gif){ width="900px" }

### 1.19 数据大屏支持复用组件
![更新1](./newimg/1.19 数据大屏支持复用组件.png){ width="900px" }


### 1.20 数据大屏支持外部参数设置
![更新1](./newimg/1.20 数据大屏支持外部参数设置.png){ width="900px" }

### 1.21 查询组件支持级联设置
!!! Abstract ""

    - 展示类型为文本下拉组件和数字下拉组件；
    - 选项值来源为数据集；
    - 支持跨源级联，目前初版仅支持 2 级级联。

![更新1](./newimg/1.20 查询组件支持级联设置1.png){ width="900px" }
![更新1](./newimg/1.20 查询组件支持级联设置2.png){ width="900px" }


### 1.22 查询组件支持下拉树
!!! Abstract ""
    注意：下拉树不支持跨源。

![更新1](./newimg/1.21 查询组件支持下拉树.png){ width="900px" }
![更新1](./newimg/1.21 查询组件支持下拉树2.png){ width="900px" }


### 1.23 查询组件日期筛选支持周、月、年等快捷查询
![更新1](./newimg/1.22 查询组件日期筛选支持周、月、年等快捷查询.png){ width="900px" }

### 1.24 支持透视表导出渲染后的表格
!!! Abstract ""
    选择导出->Excel（带格式）：
![更新1](./newimg/1.23 支持透视表导出渲染后的表格1.png){ width="900px" }
!!! Abstract ""
    导出后的 Excel 会保持透视表的渲染格式：

![更新1](./newimg/1.23 支持透视表导出渲染后的表格2.png){ width="900px" }

### 1.25 富文本支持阈值设置
![更新1](./newimg/1.25%20富文本支持阈值设置.png){ width="900px" }

### 1.26 数据集数据预览列表支持调整宽度
![更新1](./newimg/1.26%20%20数据集数据预览列表支持调整宽度.gif){ width="900px" }



## 2 数据准备

### 2.1 数据集表关联时支持设置全连接
!!! Abstract ""

    - MySQL，API，Excel 数据源目前不支持全连接；
    - 由于交互问题，校验放在后端执行，若不支持全连接，会返回提示。
![更新1](./newimg/2.1 数据集表关联时支持设置全连接.png){ width="900px" }

### 2.2 API 数据源支持参数提取
!!! Abstract ""
    API 数据源新增接口参数设置，支持从 API 请求的响应数据中提取结果作为 API 数据表的请求参数，可以用于 API  token 获取等场景。
    提取参数：
![更新1](./newimg/2.2%20API%20数据源支持参数提取.png){ width="900px" }

!!! Abstract ""
    配置参数：
![更新1](./newimg/2.2%20API%20数据源支持参数提取2.png){ width="900px" }


## 3 系统设置（XPack）
### 3.1 插件管理
!!! Abstract ""

    - 新增插件管理模块，支持数据源插件和图表插件；
    - 安装插件时即时生效，但更新与卸载插件需要重启服务后生效。
![更新1](./newimg/3.1%20插件管理.png){ width="900px" }

### 3.2 支持 CAS 配置时填写回调域名

![更新1](./newimg/3.2 支持 CAS 配置时填写回调域名.png){ width="900px" }

### 3.3 APISIX路由初始化过程优化
!!! Abstract ""
    之前版本的路由初始化通过 shell 脚本实现，常导致初始化失败。新版本中，DataEase 启动后会自动检测和初始化 APISIX 配置。

## 4 组织管理中心（XPack）
### 4.1 权限中增加预览图表导出的控制
!!! Abstract ""
    支持同时控制仪表板和数据大屏的导出以及图表数据的导出。
![更新1](./newimg/4.2 权限中增加预览图表导出的控制.png){ width="900px" }

### 4.2  支持定时报告设置查询组件默认值
!!! Abstract ""
    新增了查询组件参数设置功能，可以覆盖指定仪表板或数据大屏中的查询组件默认值。
![更新1](./newimg/4.3 支持定时报告设置查询组件默认值.png){ width="900px" }
![更新1](./newimg/4.3 支持定时报告设置查询组件默认值2.png){ width="900px" }
![更新1](./newimg/4.3 支持定时报告设置查询组件默认值3.png){ width="900px" }


## 5 其他
### 5.1 支持在数据导出中心查看导出失败原因
!!! Abstract ""
    当存在导出失败的数据时，可以点击“导出失败”，查看具体失败原因。
![更新1](./newimg/5.1 支持在数据导出中心查看导出失败原因.png){ width="900px" }

### 5.2 移动端支持跳转

![更新1](./newimg/5.2%20移动端支持跳转.gif){ width="400px" }